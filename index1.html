<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
	div {
		height: 200px;
		width: 200px;
		border: 2px solid black;
	}
	</style>
</head>

<body>
	<div class="item" onclick="fillcolor()"></div>
	<button onclick="myFunction()">Click me</button>


	<script type="text/javascript">
	function myFunction() {
		var addbox = document.createElement("DIV");
		addbox.className = 'item';
		addbox.onclick = fillcolor;
		document.body.appendChild(addbox);
		var x = document.getElementsByClassName("item").length;
	}

	function fillcolor() {
		var elements = document.getElementsByClassName("item");
		for(var i = 0; i < elements.length; i++) {
			elements[i].addEventListener('click', myFunction1, true);
		}
	}

	function myFunction1() {
		this.style.backgroundColor = "blue";
	}
	</script>
</body>

</html>